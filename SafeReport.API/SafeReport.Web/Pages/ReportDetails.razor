@page "/reportdetails/{ReportId:guid}"
@inject IStringLocalizer<Resource> _Localizer
<PageTitle>@_Localizer["ReportDetails"]</PageTitle>
<h3 class="text-center my-4">@_Localizer["ReportDetails"]</h3>

@if (isLoading)
{
    <p><em>@_Localizer["Loading"]</em></p>
}
else if (loadFailed)
{
    <p class="text-danger">@_Localizer["FailedToLoadDetails"]</p>
}
else if (report != null)
{
    <div class="card shadow-sm p-4 mb-4" style="max-width: 600px; margin: auto;">
        <h4 class="mb-3">@report.IncidentName (@report.IncidentTypeName)</h4>

        <p><strong>@_Localizer["Description"]:</strong> @report.Description</p>
        <p><strong>@_Localizer["PhoneNumber"]:</strong> @report.PhoneNumber</p>
        <p><strong>@_Localizer["Address"]:</strong> @report.Address</p>
        <p>
            <strong>@_Localizer["CreatedDate"]:</strong> @report.CreatedDate.ToLocalTime().ToString("f", CultureInfo.CurrentCulture)
        </p>
        <p>
            <strong>@_Localizer["TimeSinceCreated"]:</strong>
            @TranslateTimeSinceCreated(report.TimeSinceCreated)
        </p>


        @if (!string.IsNullOrEmpty(report.Image))
        {
            <div class="mt-3 text-center">
                <img src="@GetFullImageUrl(report.Image)" alt="@_Localizer["ReportImage"]"
                     style="max-width: 100%; height: auto; border-radius: 8px;" />
            </div>
        }

        <button class="btn btn-secondary mt-4" @onclick="GoBack">
            @_Localizer["Back"]
        </button>
    </div>
}
else
{
    <p>@_Localizer["NoDetailsAvailable"]</p>
}
