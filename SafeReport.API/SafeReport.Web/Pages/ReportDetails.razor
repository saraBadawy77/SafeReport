@page "/reportdetails/{ReportId:guid}"

<h3 class="text-center my-4">Report Details</h3>

@if (isLoading)
{
    <p><em>Loading...</em></p>
}
else if (loadFailed)
{
    <p class="text-danger">Failed to load report details.</p>
}
else if (report != null)
{
    <div class="card shadow-sm p-4 mb-4" style="max-width: 600px; margin: auto;">
        <h4 class="mb-3">@report.IncidentName (@report.IncidentTypeName)</h4>
        
        <p><strong>Description:</strong> @report.Description</p>
        <p><strong>Phone Number:</strong> @report.PhoneNumber</p>
        <p><strong>Address:</strong> @report.Address</p>
        <p><strong>Created On:</strong> @report.CreatedDate.ToLocalTime().ToString("f")</p>
        <p><strong>Time Since Created:</strong> @report.TimeSinceCreated</p>

        @if (!string.IsNullOrEmpty(report.Image))
        {
            <div class="mt-3 text-center">
                <img src="@GetFullImageUrl(report.Image)" alt="Report Image" style="max-width: 100%; height: auto; border-radius: 8px;" />
            </div>
        }

        <button class="btn btn-secondary mt-4" @onclick="GoBack">Back</button>
    </div>
}
else
{
    <p>No report details available.</p>
}
